"use strict";var breakpoints={fullHd:1920,xxl:1600,xl:1366,lg:992,md:768,sm:576,xsm:375},MQ={wWidth:0,isXL:!1,isLG:!1,isMD:!1,isSM:!1,isXSM:!1,updateState:function(){for(var e in this.wWidth=$(window).width(),breakpoints)this["is"+e.toUpperCase()]=this.wWidth<=breakpoints[e]}},mfpPopup=(MQ.updateState(),$(window).on("load",function(){}),$(window).on("resize",function(){MQ.updateState()}),$(".js-popup").on("click",function(e){e.preventDefault();e=$(this).attr("href");mfpPopup(e)}),$(".hamburger-btn").on("click",function(){$(this).toggleClass("is-active"),$(".menu").toggleClass("is-opened"),$("body").toggleClass("overflow-hidden")}),$(".menu__close-btn-wrap").on("click",function(){$(".menu").removeClass("is-opened"),$(".hamburger-btn").removeClass("is-active")}),$('input[type="tel"]').inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1}),$("form").on("submit",function(e){e.preventDefault();var t=$(this),i={data:{}};return t.find("input, textarea").each(function(){var e=$(this).attr("name"),t=$(this).attr("data-name"),s=$(this).val();i.data[e]={title:t,value:s},"subject"===e&&(i.subject={value:s},delete i.data.subject)}),$.ajax({type:"POST",url:"mail/mail.php",dataType:"json",data:i}).done(function(e){"success"===e.status?(t.closest(".mfp-wrap").hasClass("mfp-ready")?t.find(".form-result").addClass("form-result--success"):mfpPopup("#success"),setTimeout(function(){t.closest(".mfp-wrap").hasClass("mfp-ready")&&t.find(".form-result").removeClass("form-result--success"),$.magnificPopup.close(),t.trigger("reset")},3e3)):alert("Ajax result: "+e.status)}),!1}),function(e,t){$.magnificPopup.open({items:{src:e},type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,closeMarkup:'<button type="button" class="mfp-close">&times;</button>',mainClass:"mfp-fade-zoom"})}),sliderSettings={direction:"vertical",mousewheel:!0,slidesPerView:9,spaceBetween:37,loop:!0,effect:"coverflow",centeredSlides:!0,coverflowEffect:{rotate:0,stretch:0,depth:18,modifier:1,slideShadows:!1}},keysWheel=new Swiper(".keys__wheel",sliderSettings),dropdownKeysSublist=($(".keys__subitem").on("click",function(e){e.preventDefault(),$(".keys__subitem").removeClass("active"),$(this).addClass("active")}),function(){$(".keys__btn").on("click",function(e){e.preventDefault();var e=$(e.currentTarget).attr("data-target").replace("#",""),t=$(this).closest(".keys__wheel"),e=$('.keys__dropdown[data-id="'.concat(e,'"]'));t.addClass("hide"),e.addClass("keys__dropdown--active")}),$(".keys__dropdown-btn").on("click",function(){$(this).closest(".keys__col").find(".keys__wheel").removeClass("hide"),$(this).closest(".keys__col").find(".keys__dropdown").removeClass("keys__dropdown--active")})}),initTextSlider=function(){document.querySelectorAll(".text-slider").forEach(function(e,t){new Swiper(e,{direction:"horizontal",loop:!0,slidesPerView:1,autoHeight:!0,pagination:{el:".swiper-pagination"}})})},calcRem=function(){var e,t;$(window).outerWidth()<=breakpoints.fullHd?$("html").removeAttr("style"):(t=e=0,window.innerHeight,window.innerWidth,e=window.innerWidth/1920*100,t=window.innerHeight/980*100,e<=t?$("html").css("font-size",e+"%"):$("html").css("font-size",t+"%"))},initRems=function(){$(window).outerWidth()>breakpoints.fullHd&&calcRem(),$(window).on("load resize",function(){calcRem()})};$(document).ready(function(){dropdownKeysSublist(),initTextSlider(),initRems()});